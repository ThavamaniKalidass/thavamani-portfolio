<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Amine — Intro + Portfolio (Scroll-direction Animations)</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    :root {
      --bg-black: #000;
      --accent: #00e6ef;
      --accent-dim: rgba(0,230,239,0.12);
      --container: 1150px;
      --card-shadow: 0 18px 60px rgba(2,6,23,0.18);
      --nav-height: 76px;
      --ease: cubic-bezier(.2,.9,.2,1);
      --bg-logo-opacity: 0.20; /* change this to increase/decrease logo visibility */
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    html {scroll-behavior: smooth}
    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: #fff;
      color:#111;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
      line-height:1.45;
    }

    /* --------- SPLASH (first page) ---------- */
    .splash {
      position:fixed;inset:0;
      background:var(--bg-black);
      display:grid;place-items:center;
      z-index:9999;
      transition:opacity .6s ease, visibility .6s ease;
      visibility:visible; opacity:1;
    }
    .splash.hidden { opacity:0; visibility:hidden; pointer-events:none; }

    .splash-card {
      text-align:center;
      color:var(--accent);
      padding:56px 18px;
      width:min(760px,92%);
      user-select:none;
      cursor:pointer;
    }

    .logo-row { display:flex; gap:26px; justify-content:center; align-items:flex-end; margin-top:18px; }
    .logo { width:54px;height:54px;border-radius:12px; display:grid;place-items:center; border:2px solid var(--accent-dim); color:var(--accent); font-size:20px; opacity:0; transform:translateY(40px); background:transparent; position:relative; }

    @keyframes slideUpFade {
      0%   { transform:translateY(40px); opacity:0; filter:blur(4px); }
      60%  { transform:translateY(-6px); opacity:1; filter:blur(0); }
      100% { transform:translateY(0); opacity:1; }
    }

    .logo.one    { animation: slideUpFade .8s var(--ease) .10s both; }
    .logo.two    { animation: slideUpFade .8s var(--ease) .32s both; }
    .logo.center { animation: slideUpFade .8s var(--ease) .60s both; }
    .logo.three  { animation: slideUpFade .8s var(--ease) .92s both; }

    .logo.center::before{
      content:""; position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%) translateY(-8px);
      width:120px;height:120px;border-radius:50%;
      background: radial-gradient(circle at 50% 50%, rgba(0,230,239,0.10), rgba(0,120,255,0));
      z-index:-1; filter:blur(18px); opacity:0; transition:opacity .35s ease .05s;
    }
    .logo.center.animated::before{ opacity:1; }

    .splash-title {
      font-family:"Playfair Display",serif;
      font-size:28px;
      margin-top:14px;
      letter-spacing:2px;
      text-transform:uppercase;
    }
    .splash-note { margin-top:12px;color:rgba(255,255,255,0.36);font-size:13px }

    /* --------- SITE (second page) ---------- */
    .site { opacity:0; pointer-events:none; transition:opacity .6s ease; padding-top: calc(var(--nav-height) + 18px); position:relative; }
    .site.visible { opacity:1; pointer-events:auto; }

    /* BACKGROUND LOGOS */
    .bg-logos {
      position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
      mix-blend-mode:normal; /* keeps logos subtle against background */
    }
    .bg-logo{
      position:absolute; width:180px; height:180px; display:grid; place-items:center; border-radius:18px;
      opacity:var(--bg-logo-opacity); transform-origin:center; filter:blur(0.6px);
      transition:transform .6s var(--ease), opacity .4s ease;
      will-change:transform, opacity;
    }
    .bg-logo svg { width:75%; height:75%; display:block }

    /* staggered motion */
    @keyframes floaty {
      0% { transform: translateY(0) rotate(0deg) }
      50% { transform: translateY(-26px) rotate(6deg) }
      100% { transform: translateY(0) rotate(0deg) }
    }
    @keyframes slow-spin { 0% { transform: rotate(0deg) } 100% { transform: rotate(360deg) } }

    /* specific small variants for personality */
    .bg-logo.x1 { left:6%; top:18%; animation: floaty 9s ease-in-out infinite; }
    .bg-logo.x2 { right:8%; top:12%; animation: floaty 11s ease-in-out infinite; }
    .bg-logo.x3 { left:18%; bottom:12%; animation: floaty 10s ease-in-out infinite; }
    .bg-logo.x4 { right:20%; bottom:18%; animation: floaty 13s ease-in-out infinite; }
    .bg-logo.x5 { left:48%; top:6%; animation: floaty 12s ease-in-out infinite; }

    /* make logos slightly larger on wide screens */
    @media(min-width:1200px){ .bg-logo{ width:220px; height:220px } }

    .wrap { max-width:var(--container); margin:36px auto; padding:0 22px; position:relative; z-index:2 }

    /* NAV (fixed full-width overlay) */
    nav{
      position:fixed; /* fixed to viewport */
      top:12px; /* distance from top */
      left:0;
      width:100%;
      z-index:1400; /* raised so it's in front */
      display:flex;
      justify-content:center;
      pointer-events:auto;
      transition:all .28s var(--ease);
    }

    /* nav pill constrained and centered but nav itself is full width */
    .nav-pill{
      background:transparent; border-radius:44px; padding:10px 14px; display:flex; gap:18px; align-items:center; transition:all .28s var(--ease);
      backdrop-filter: blur(0px);
      -webkit-backdrop-filter: blur(0px);
      box-shadow:none;
      width: min(calc(100% - 48px), var(--container));
      margin: 0 24px;
      justify-content:center;
    }

    /* when we add .nav-overlay the pill gets a soft translucent background and shadow */
    .nav-overlay .nav-pill{
      background: rgba(255,255,255,0.86);
      box-shadow:0 12px 40px rgba(2,6,23,0.06);
      padding:12px 18px;
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }

    .nav-pill a{
      display:inline-flex;gap:10px;align-items:center;padding:10px 16px;border-radius:30px;text-decoration:none;color:#6b6b6b;font-weight:600;font-size:15px;
    }
    .nav-pill a.active{background:#111;color:#fff; box-shadow: 0 8px 30px rgba(0,0,0,0.12); transform: translateY(-2px);} 

    /* HERO */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:46px;align-items:center;padding:18px 0; position:relative}
    h1{font-family:"Playfair Display",serif;font-size:64px;margin:6px 0}
    .subtitle{
      font-size:28px;font-weight:600;margin-bottom:12px;
      display:inline-block;
      position:relative;
      min-width:320px;
      white-space:nowrap;
      overflow:hidden;
      vertical-align:middle;
    }
    .subtitle::after{
      content: "";
      display:inline-block;
      width:2px;
      height:1.1em;
      background:#111;
      margin-left:8px;
      vertical-align:middle;
      transform:translateY(-1px);
      animation: blink 1s steps(2, start) infinite;
    }
    .subtitle.light::after{ background: #fff } /* for dark backgrounds */
    @keyframes blink { 50% { opacity:0 } }

    p.lead{color:#555;max-width:720px}
    .hero-cta{margin-top:20px;display:flex;gap:14px}

    .btn{display:inline-flex;align-items:center;gap:10px;color: #000; padding:11px 16px;border-radius:10px;border:0;font-weight:700;cursor:pointer;text-decoration:none;transition:all .20s var(--ease)}
    .btn-primary{background:linear-gradient(90deg,#000000,#000000);color:#fff}
    .btn-outline{
      background:transparent;
      border:2px solid #000000;
      padding:10px 14px;
      color:#000;
      border-radius:10px;
      transition: all .18s var(--ease);
    }
    .btn-outline:hover,
    .btn-outline:focus,
    .btn-outline:focus-visible {
      background: #000;
      color: #fff;
      border-color: #000;
      outline: none;
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.18);
    }

    .social-row{margin-top:20px;display:flex;gap:12px}
    .social-row a{width:44px;height:44px;border-radius:50%;display:grid;place-items:center;background:#f3f4f6;text-decoration:none;color:#111}

    /* RIGHT COLUMN / CARD */
    .right-col{display:flex;flex-direction:column;align-items:center;gap:20px}
    .mini-card{ background:#000;color:var(--accent);padding:40px 30px;text-align:center;border-radius:18px;box-shadow:var(--card-shadow) }
    .mini-card .icon{font-size:44px;margin-bottom:8px}
    .mini-card h3{font-size:26px;margin:6px 0 12px}
    .mini-social{display:flex;gap:26px;justify-content:center}
    .mini-social a{color:var(--accent);text-decoration:none;font-size:20px}
    .mini-card p{margin-top:10px;font-weight:700}

    .hero-avatar{ width:420px;height:420px;overflow:hidden; box-shadow:0 18px 40px rgba(2,6,23,0.06); background:linear-gradient(180deg,#fff,#f6f7fb); transform:translateZ(0); will-change:transform; position:relative; z-index:3 }
    .hero-avatar img{width:100%;height:100%;object-fit:cover;display:block; transition:transform .45s var(--ease)}

    /* SECTIONS */
    .section{padding:80px 0}
    .section-title{ font-family:"Playfair Display"; font-size:36px; text-align:center; margin-bottom:12px }

    /* Make sure each section scrolls to just below the nav */
    section[id] { scroll-margin-top: calc(var(--nav-height) + 18px); }

    /* ABOUT: center content horizontally and constrain card widths */
    #about .about-grid{ grid-template-columns:1fr !important; justify-items:center; text-align:center; }
    #about .cards-row { justify-content:center; }
    #about .info-card { width:100%; max-width:540px; }

    .about-grid{display:grid;grid-template-columns:1fr 400px;gap:36px;align-items:center;}
    .cards-row{display:flex;gap:18px;margin-top:22px}
    .info-card{flex:1;border:2px solid #eee;background:#fff;padding:18px;border-radius:12px;box-shadow:0 12px 36px rgba(2,6,23,0.04)}
    .info-card h4{margin:4px 0 6px}

    /* ================== PROJECTS: hover animation (merged) ================== */
    .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:26px;margin-top:30px;padding:6px}
    .project-box{
      position:relative;
      border-radius:14px;
      overflow:hidden;
      background:#fff;
      box-shadow:0 12px 36px rgba(2,6,23,0.06);
      transition:transform .36s var(--ease), box-shadow .36s var(--ease);
      will-change:transform,box-shadow;
      cursor:pointer;
      border:1px solid rgba(0,0,0,0.03);
      outline: none;
    }

    /* image container ensures consistent aspect ratio and GPU-accelerated transforms */
    .project-box .media{
      display:block;
      overflow:hidden;
      height:0;
      padding-bottom:56%;
      position:relative;
      background:#f6f7fb;
    }
    .project-box .media img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
      transform-origin:center center;
      transition:transform .6s var(--ease), filter .36s var(--ease);
      display:block;
      will-change:transform;
    }

    /* info panel */
    .project-box .p-info{
      padding:14px;
      transition:transform .36s var(--ease), opacity .36s var(--ease);
      background:linear-gradient(180deg,rgba(255,255,255,0.98),#fff);
    }
    .p-info h4{margin:0 0 6px;font-size:18px}
    .p-info p{margin:0;color:#666;font-size:14px}

    /* overlay fade */
    .project-box::after{
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,0) 20%, rgba(0,0,0,0.12) 100%);
      opacity:0;
      transition:opacity .36s var(--ease);
      pointer-events:none;
    }

    /* center action buttons */
    .project-actions{
      position:absolute;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%) translateY(6px);
      display:flex;
      gap:10px;
      opacity:0;
      pointer-events:none;
      transition:opacity .28s var(--ease), transform .36s var(--ease);
      z-index:6;
      white-space:nowrap;
    }
    .project-actions a{
      background:rgba(255,255,255,0.98);
      padding:10px 12px;
      border-radius:10px;
      text-decoration:none;
      color:#111;
      font-weight:700;
      box-shadow:0 8px 24px rgba(2,6,23,0.06);
      display:inline-flex;
      gap:8px;
      align-items:center;
    }

    /* hover / focus states */
    .project-box:hover, .project-box:focus-within{
      transform:translateY(-10px) scale(1.02);
      box-shadow:0 30px 80px rgba(2,6,23,0.12);
    }
    .project-box:hover .media img, .project-box:focus-within .media img{
      transform:scale(1.12) translateY(-4px);
    }
    .project-box:hover::after, .project-box:focus-within::after{ opacity:1; }
    .project-box:hover .project-actions, .project-box:focus-within .project-actions{
      opacity:1; pointer-events:auto; transform:translate(-50%,-50%) translateY(-6px);
    }

    /* focus visible outline for keyboard */
    .project-box:focus-within { box-shadow: 0 20px 60px rgba(0,0,0,0.12), 0 0 0 4px rgba(0,230,239,0.08) inset; }

    /* reduced motion: disable tilt/zoom */
    @media (prefers-reduced-motion: reduce){
      .project-box, .project-box .media img, .project-actions { transition: none !important; }
      .project-box:hover, .project-box:focus-within { transform: none; box-shadow:0 12px 36px rgba(2,6,23,0.06); }
      .project-box .media img { transform: none !important; }
      .project-actions { opacity:1; transform:translate(-50%,-50%); pointer-events:auto; }
    }

    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:22px;margin-top:26px}
    .service-box{background:#fff;border-radius:14px;padding:28px;text-align:center;box-shadow:0 12px 36px rgba(2,6,23,0.06)}
    .service-box i{font-size:36px;color:var(--accent);margin-bottom:10px}

    .contact-grid{display:grid;grid-template-columns:1fr 480px;gap:36px;align-items:start}
    .form-field{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;font-size:15px;margin-top:12px}
    .btn-send{margin-top:16px;background:linear-gradient(90deg,#000000,#000000);color:#fff;border:0;border-radius:10px;padding:12px 18px;font-weight:600;cursor:pointer}

    footer{background:#070707;color:#fff;padding:40px 0;text-align:center}
    footer .social-row a{background:transparent;border:1px solid rgba(255,255,255,0.12);color:#fff;padding:8px;border-radius:8px;margin:0 6px}

    .up{position:fixed;right:24px;bottom:24px;width:56px;height:56px;display:grid;place-items:center;border-radius:50%;background:linear-gradient(90deg,#6f5bff,#5b7bff);color:#fff;cursor:pointer;box-shadow:0 12px 40px rgba(91,123,255,0.18);z-index:90}

    /* Generic hidden state for animated elements (default) */
    [data-anim] { opacity:0; transform: translateY(18px) scale(0.995); transition: opacity .52s var(--ease), transform .52s var(--ease); will-change:opacity,transform; }

    /* Visible final state (used together with direction classes below) */
    [data-anim].in { opacity:1; transform: none; }

    /* Direction-based entrance classes */
    .enter-from-bottom { opacity:1; transform: translateY(0) scale(1); }
    .enter-from-top    { opacity:1; transform: translateY(0) scale(1); }

    /* Exit states (applied when leaving viewport) */
    .exit-to-top    { opacity:0; transform: translateY(-22px) scale(0.995); }
    .exit-to-bottom { opacity:0; transform: translateY(22px) scale(0.995); }

    /* reveal specifics */
    [data-anim="reveal"] { position:relative; overflow:hidden; }
    [data-anim="reveal"] .reveal-inner { transform: translateY(18px); transition: transform .6s var(--ease); }
    [data-anim="reveal"].in .reveal-inner { transform: none; }

    /* small helpers for stagger delays (JS applies inline style) */
    [data-anim][data-delay] { transition-delay: 0ms; }

    .muted { color:#777; font-size:14px }

    /* education & skills helpers */
    .education-card{border-radius:12px;padding:18px;border:1px solid #eee;background:#fff;box-shadow:0 12px 36px rgba(2,6,23,0.04)}
    .skill-grid{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:18px}
    .skill-pill{padding:8px 12px;border-radius:999px;border:1px solid #eee;font-weight:700;background:#fff}

    @media (max-width:1100px){
      .hero,.about-grid,.contact-grid{grid-template-columns:1fr}
      .hero-avatar{margin:auto;width:320px;height:320px}
      .site{padding-top:calc(var(--nav-height) + 8px)}
    }
    @media (max-width:560px){
      h1{font-size:38px}
      .subtitle{font-size:20px; min-width:160px}
      .nav-pill{flex-wrap:wrap;gap:8px; margin: 0 12px; width: calc(100% - 24px);}
      .site{padding-top:calc(var(--nav-height) + 4px)}
      .hero-avatar{width:260px;height:260px}
    }

    /* ========== Certificate lightbox styles ========== */
    .cert-modal {
      position: fixed;
      inset: 0;
      z-index: 2200;
      display: none;
      align-items: center;
      justify-content: center;
    }
    .cert-modal[aria-hidden="false"] { display: flex; }

    .cert-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(3,6,23,0.72);
      backdrop-filter: blur(4px);
    }

    .cert-inner {
      position: relative;
      max-width: min(920px, 92%);
      width: 920px;
      max-height: 86vh;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 30px 80px rgba(2,6,23,0.6);
      z-index: 1;
      display:flex;
      flex-direction:column;
    }

    .cert-close {
      position: absolute;
      right: 12px;
      top: 8px;
      background: transparent;
      border: 0;
      font-size: 30px;
      line-height: 1;
      color: #111;
      cursor: pointer;
      padding: 6px 10px;
      z-index: 2;
    }

    .cert-figure {
      margin: 0;
      padding: 18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      overflow:auto;
    }

    .cert-figure img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 12px 40px rgba(2,6,23,0.12);
      display:block;
    }

    #certCaption {
      font-weight:700;
      color:#333;
      text-align:center;
      padding:0 8px 8px;
    }

    .cert-actions {
      display:flex;
      justify-content:center;
      padding:12px 18px 20px;
      gap:12px;
      border-top: 1px solid #f0f0f0;
      background:#fff;
    }

    @media (max-width:720px){
      .cert-inner { width: 96%; height: 92vh; max-height:92vh; border-radius:10px; }
      .cert-figure { padding:12px; }
      .cert-close { right:8px; top:6px; font-size:26px; }
    }

  </style>
</head>
<body>

  <!-- SPLASH: first page -->
  <div class="splash" id="splash" role="dialog" aria-label="Intro splash">
    <div class="splash-card" id="splashCard" title="Click to skip intro" onclick="skipIntro()">
      <div class="logo-row" aria-hidden="false">
        <div class="logo one" aria-hidden="true"><i class="fa-brands fa-github"></i></div>
        <div class="logo two" aria-hidden="true"><i class="fa-solid fa-code"></i></div>
        <div class="logo three" aria-hidden="true"><i class="fa-solid fa-user"></i></div>
      </div>

      <div class="splash-title">MY PORTFOLIO</div>
      <div class="splash-note">Designed By Thavamani</div>
    </div>
  </div>

  <!-- Floating background logos (SECOND PAGE background) -->
  <div class="bg-logos" aria-hidden="true">
    <!-- HTML5 -->
    <div class="bg-logo x1" style="--delay:0s">
      <svg viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path fill="#e34f26" d="M19 7l9 101 40 14 40-14 9-101z"/>
        <path fill="#ef652a" d="M64 116v-28l32-8 8-90H64z"/>
        <path fill="#fff" d="M63 48h11l1-12H63zM64 84l-22-6 1-10h11l.5 6 10 .3 9.8-3 1.6 11z"/>
      </svg>
    </div>

    <!-- CSS3 -->
    <div class="bg-logo x2" style="--delay:.2s">
      <svg viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path fill="#264de4" d="M20 7l8 104 44 12 44-12 8-104z"/>
        <path fill="#2965f1" d="M64 116V24h36l-4 72z"/>
        <path fill="#fff" d="M92 39H36l1 10h49l-1 12H36l3 12 25 6 25-6 2-30z"/>
      </svg>
    </div>

    <!-- Java (coffee cup simplified) -->
    <div class="bg-logo x3" style="--delay:.4s">
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="6" y="20" width="44" height="24" rx="4" fill="#5382a1"/>
        <path d="M20 10c6 6 12 6 18 0" stroke="#d1495b" stroke-width="2" fill="none" stroke-linecap="round"/>
        <path d="M22 6c4 4 8 4 12 0" stroke="#d1495b" stroke-width="2" fill="none" stroke-linecap="round"/>
      </svg>
    </div>

    <!-- JS (letters) -->
    <div class="bg-logo x4" style="--delay:.6s">
      <svg viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect width="128" height="128" rx="14" fill="#f0db4f"/>
        <text x="50%" y="62%" font-family="Arial, Helvetica, sans-serif" font-weight="700" font-size="56" text-anchor="middle" fill="#323330">JS</text>
      </svg>
    </div>

    <!-- Spring Boot (leaf-like mark) -->
    <div class="bg-logo x5" style="--delay:.8s">
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <circle cx="32" cy="32" r="30" fill="#6db33f" />
        <path d="M20 36c6-12 22-12 26-6-6 2-12 6-18 12-6-6-6-6-8-6z" fill="#fff" opacity="0.9"/>
      </svg>
    </div>
  </div>

  <!-- SITE: second page (portfolio) -->
  <div class="site" id="site" aria-hidden="true">

    <!-- NAV moved OUTSIDE wrap to be full-width -->
    <nav aria-label="Primary" id="primaryNav" class="nav-overlay">
      <div class="nav-pill" role="menubar" id="navPill">
        <a href="#home" class="nav-link active" data-target="home"><i class="fa-solid fa-house"></i> Home</a>
        <a href="#about" class="nav-link" data-target="about"><i class="fa-regular fa-address-card"></i> About</a>
        <a href="#education" class="nav-link" data-target="education"><i class="fa-solid fa-graduation-cap"></i> Education</a>
        <!-- INTERNSHIPS nav item -->
        <a href="#internship" class="nav-link" data-target="internship"><i class="fa-solid fa-briefcase"></i> Internship</a>
        <a href="#skills" class="nav-link" data-target="skills"><i class="fa-solid fa-chart-simple"></i> Skills</a>
        <a href="#projects" class="nav-link" data-target="projects"><i class="fa-regular fa-folder"></i> Projects</a>
        <a href="#certificates" class="nav-link" data-target="certificates"><i class="fa-solid fa-certificate"></i> Certificates</a>
        <a href="#services" class="nav-link" data-target="services"><i class="fa-solid fa-code"></i> Services</a>
        <a href="#contact" class="nav-link" data-target="contact"><i class="fa-regular fa-envelope"></i> Contact</a>
      </div>
    </nav>

    <div class="wrap">
      <main id="main">
        <!-- HERO -->
        <section id="home" class="hero" aria-label="Home section">
          <div>
            <h1 data-anim="fade-up" data-delay="0">Hi, I'M Thavamani</h1>

            <!-- subtitle replaced with animated typing -->
            <div class="subtitle" id="subtitle" aria-live="polite" aria-atomic="true" data-anim="fade-up" data-delay="120">JAVA FULLSTACK DEVELOPER</div>

            <p class="lead" data-anim="fade-up" data-delay="240">I develop clean, efficient, and scalable applications using Java. As a fresher, I focus on building reliable backend systems, REST APIs, and responsive full-stack web applications. I enjoy learning new technologies, writing clean code, and developing solutions that improve user experience and performance.</p>

            <div class="hero-cta" data-anim="fade-up" data-delay="360">
              <a class="btn btn-primary" href="#contact"><i class="fa-solid fa-paper-plane"></i> Hire Me</a>
              <a class="btn btn-outline" href="cv/Thavamani_CV.pdf" download="Thavamani_CV.pdf" aria-label="Download CV"><i class="fa-solid fa-download"></i> Download CV</a>
            </div>

            <div class="social-row" style="margin-top:18px" data-anim="fade-up" data-delay="480">
              <a href="#" aria-label="GitHub"><i class="fa-brands fa-github"></i></a>
              <a href="#" aria-label="CodePen"><i class="fa-brands fa-codepen"></i></a>
              <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
              <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
            </div>
          </div>

          <div>
            <div class="hero-avatar" id="heroAvatar" aria-hidden="true" data-anim="reveal" data-delay="600">
              <div class="reveal-inner">
                <img src="images/mani.jpg" alt="Profile image" id="avatarImg">
              </div>
            </div>
          </div>
        </section>

        <!-- ABOUT -->
        <section id="about" class="section" aria-label="About section" >
          <h2 class="section-title" data-anim="fade-up" data-delay="80">About Me</h2>
          <div class="about-grid" >
            <div data-anim="slide-left" data-delay="160">
              <p>My name is Thavamani, and I am a passionate Java Full-Stack Developer with strong foundations in both frontend and backend technologies. I have hands-on skills in <b>HTML</b>, <b>CSS</b>, <b>JavaScript</b>, <b>Java</b>, <b>Spring Boot</b>, <b>Spring MVC</b>, <b>JPA</b>, <b>Hibernate</b>, and <b>MySQL</b>.</p>

              <p class="muted" style="margin-top:12px">As a fresher, I focus on writing clean, efficient code and building applications that are scalable, user-friendly, and performance-driven. I enjoy learning new tools, solving problems, and developing real-world projects that strengthen my full-stack development capabilities.</p>

              <div class="cards-row" style="margin-top:22px">
                <div class="info-card" data-anim="zoom" data-delay="260">
                  <h4><i class="fa-solid fa-code"></i> Languages</h4>
                  <small>HTML, CSS, JavaScript, React, Java, Hibernate, SprinBoot, MYSQL</small>
                </div>
                <div class="info-card" data-anim="zoom" data-delay="320">
                  <h4><i class="fa-solid fa-graduation-cap"></i> Education</h4>
                  <small>SMCET — B.E.Computer Science And Engineering</small>
                </div>
                <div class="info-card" data-anim="zoom" data-delay="380">
                  <h4><i class="fa-regular fa-folder"></i> Projects</h4>
                  <small>5+ completed projects</small>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- EDUCATION (NEW) -->
        <section id="education" class="section" aria-label="Education section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Education</h2>
          <div class="wrap" style="max-width:900px;margin-top:18px">
            <div class="education-card" data-anim="fade-up" data-delay="160">
              <h3 style="margin:0 0 6px">St.Michael College Of Engineering And Technology</h3>
              <small class="muted">Bachelor Of Engineering Computer Science — 2025</small>
              <p style="margin-top:12px;color:#444">7.8 CGPA</p>
            </div>
          </div>
          <div class="wrap" style="max-width:900px;margin-top:18px">
            <div class="education-card" data-anim="fade-up" data-delay="160">
              <h3 style="margin:0 0 6px">Alangara Matha Higher Secondary School</h3>
              <small class="muted">Higher Secondary Certificate</small>
              <p style="margin-top:12px;color:#444">Percentage : 78%</p>
            </div>
          </div>
          <div class="wrap" style="max-width:900px;margin-top:18px">
            <div class="education-card" data-anim="fade-up" data-delay="160">
              <h3 style="margin:0 0 6px">Alangara Matha Higher Secondary School</h3>
              <small class="muted">Secondary School Leaving Certificate </small>
              <p style="margin-top:12px;color:#444"> Percentage : 67.8%</p>
            </div>
          </div>

        </section>

        <!-- INTERNSHIP (EXPANDED: Three internships) -->
        <section id="internship" class="section" aria-label="Internship section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Internship Experience</h2>
          <div class="wrap" style="max-width:1100px;margin-top:18px;display:grid;gap:18px">

            <!-- Internship 2 -->
            <div class="education-card" data-anim="fade-up" data-delay="320">
              <h3 style="margin:0 0 6px">Frontend Intern — Jofinity Soft Solution (P) LTD <p style="color: #6b6b6b;">Madurai</p></h3>
              <small class="muted">July 2023 — August 2023</small>
              <p style="margin-top:12px;color:#444">I’m a passionate frontend developer focused on building visually appealing and high-performance websites. I enjoy turning UI designs into fully functional interfaces and continuously improving my coding skills.</p>
              <div style="margin-top:8px;color:#444">
               
                <ul style="margin-left: 15px; text-align:left; display:inline-block;">
                  <li>HTML</li>
                  <li>CSS</li>
                  <li>React.js</li>
                  <li>JavaScript</li>
                </ul>

              </div>
            </div>

            <!-- Internship 3 -->
            <div class="education-card" data-anim="fade-up" data-delay="420">
              <h3 style="margin:0 0 6px">Backend Intern — Uniq technologies  <p style="color: #6b6b6b;">Chennai</p> </h3>
              <small class="muted">March 2025 — September 2025</small>
              <p style="margin-top:12px;color:#444">I’m a dedicated backend developer specializing in Java and Spring Boot. I enjoy solving complex problems, designing APIs, and working with databases. I’m focused on writing clean, maintainable code and continuously improving my backend development skills.</p>
              <div style="margin-top:8px;color:#444">
              
                <ul style="margin-left: 15px; text-align:left; display:inline-block;">
                  
                  <li>Java</li>
                  <li>Spring Boot</li>
                  <li>JPA</li>
                  <li>Hibernate</li>
                  <li>MySQL</li>
                </ul>
              </div>
            </div>

          </div>
        </section>

        <!-- CERTIFICATES -->
        <section id="certificates" class="section" aria-label="Certificates section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Certificates</h2>
          <div style="max-width:1000px;margin:10px auto;padding:0 10px;text-align:center">
            <p class="muted" data-anim="fade-up" data-delay="140">Official certificates and online course badges I have earned.</p>

            <div class="projects-grid" style="margin-top:22px">
              <!-- Certificate card: FRONTEND (should open frontend.png - the second image) -->
              <div class="project-box" data-anim="reveal" data-delay="160" tabindex="0">
                <div class="reveal-inner">
                  <!-- thumbnail clickable -->
                  <div class="media">
                    <img src="images/Jofinity logo.png" alt="Frontend Intern Certificate" class="cert-thumb"
                         data-cert-src="/mnt/data/frontend.png"
                         data-cert-title="Frontend Intern Certificate — Jofinity"
                         data-cert-download="images/frontend.png"
                         style="cursor:pointer">
                  </div>
                  <div class="p-info">
                    <h4>Frontend Intern Certificate</h4>
                    <p>HTML, CSS, JavaScript, React.js</p>
                    <p style="margin-top:15px">
                      <a href="#" class="btn-outline cert-view"
                         data-cert-src="images/frontend.png"
                         data-cert-title="Frontend Intern Certificate — Jofinity"
                         data-cert-download="images/frontend.png"
                         style="text-decoration:none;"
                         onclick="openCertificateFromElem(this); return false;">
                        View
                      </a>
                    </p>
                  </div>
                </div>
              </div>

              <!-- Certificate card: BACKEND (should open backend.png - the first image) -->
              <div class="project-box" data-anim="reveal" data-delay="220" tabindex="0">
                <div class="reveal-inner">
                  <div class="media">
                    <img src="images/uniq logo.png" alt="Backend Intern Certificate" class="cert-thumb"
                         data-cert-src="images/backend.png"
                         data-cert-title="Backend Intern Certificate — Uniq Technologies"
                         data-cert-download="images/backend.png"
                         style="cursor:pointer">
                  </div>
                  <div class="p-info">
                    <h4>Backend Intern Certificate</h4>
                    <p>Java, Spring Boot, Hibernate, JPA, MySQL</p>
                    <p style="margin-top:15px">
                      <a href="#" class="btn-outline cert-view"
                         data-cert-src="images/backend.png"
                         data-cert-title="Backend Intern Certificate — Uniq Technologies"
                         data-cert-download="images/backend.png"
                         style="text-decoration:none;"
                         onclick="openCertificateFromElem(this); return false;">
                        View
                      </a>
                    </p>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- SKILLS -->
        <section id="skills" class="section" aria-label="Skills section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Skills</h2>
          <div style="max-width:1000px;margin:10px auto;padding:0 10px;text-align:center">
            <p class="muted" data-anim="fade-up" data-delay="140">Technical skills and tools I use frequently.</p>

            <div class="skill-grid" data-anim="fade-up" data-delay="200" aria-hidden="false">
              <div class="skill-pill">Java</div>
              <div class="skill-pill">Spring Boot</div>
              <div class="skill-pill">Hibernate / JPA</div>
              <div class="skill-pill">MySQL</div>
              <div class="skill-pill">REST APIs</div>
              <div class="skill-pill">HTML • CSS • JS</div>
              <div class="skill-pill">React (Basics)</div>
            </div>

            <!-- optional skill bars (simple) -->
            <div style="margin-top:22px;max-width:720px;margin-left:auto;margin-right:auto" data-anim="fade-up" data-delay="280">
              <div style="margin-bottom:10px">
                <div class="muted" style="display:flex;justify-content:space-between"><span>Java</span><span>Expert</span></div>
                <div style="height:10px;background:#f3f3f3;border-radius:8px;margin-top:6px;overflow:hidden">
                  <div style="height:100%;width:90%;background:#111;border-radius:8px"></div>
                </div>
              </div>
              <div style="margin-bottom:10px">
                <div class="muted" style="display:flex;justify-content:space-between"><span>Spring Boot</span><span>Advanced</span></div>
                <div style="height:10px;background:#f3f3f3;border-radius:8px;margin-top:6px;overflow:hidden">
                  <div style="height:100%;width:82%;background:#00e6ef;border-radius:8px"></div>
                </div>
              </div>
              <div style="margin-bottom:10px">
                <div class="muted" style="display:flex;justify-content:space-between"><span>HTML / CSS / JS</span><span>Advanced</span></div>
                <div style="height:10px;background:#f3f3f3;border-radius:8px;margin-top:6px;overflow:hidden">
                  <div style="height:100%;width:78%;background:#111;border-radius:8px"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- PROJECTS -->
        <section id="projects" class="section" aria-label="Projects section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Projects</h2>
          <div class="projects-grid" style="margin-top:22px">
            <!-- Project 1 -->
            <article class="project-box" data-tilt tabindex="0" aria-label="Portfolio Website project">
              <div class="media" aria-hidden="true">
                <img src="images/Screenshot (161).png" alt="Portfolio Website preview">
              </div>
              <div class="project-actions" aria-hidden="true">
                <a href="#" aria-label="View Portfolio project"><i class="fa-solid fa-eye"></i> View</a>
                <a href="#" aria-label="Open demo for Portfolio project"><i class="fa-solid fa-arrow-up-right-from-square"></i> Demo</a>
              </div>
              <div class="p-info">
                <h4>Portfolio Website</h4>
                <p>Responsive web portfolio built with HTML, CSS & JS.</p>
              </div>
            </article>

            <!-- Project 2 -->
            <article class="project-box" data-tilt tabindex="0" aria-label="Task Manager project">
              <div class="media" aria-hidden="true">
                <img src="images/original-423d781d748f6f658adb5db64c8cfb1c.webp" alt="Task Manager preview">
              </div>
              <div class="project-actions" aria-hidden="true">
                <a href="#" aria-label="View Task Manager project"><i class="fa-solid fa-eye"></i> View</a>
                <a href="#" aria-label="Open demo for Task Manager project"><i class="fa-solid fa-arrow-up-right-from-square"></i> Demo</a>
              </div>
              <div class="p-info">
                <h4>Task Manager App</h4>
                <p>Simple to-do list with React & Local Storage.</p>
              </div>
            </article>

            <!-- Project 3 -->
            <article class="project-box" data-tilt tabindex="0" aria-label="E-Commerce Demo project">
              <div class="media" aria-hidden="true">
                <img src="images/pro-demo-51.jpg" alt="E-Commerce demo preview">
              </div>
              <div class="project-actions" aria-hidden="true">
                <a href="#" aria-label="View E-Commerce project"><i class="fa-solid fa-eye"></i> View</a>
                <a href="#" aria-label="Open demo for E-Commerce project"><i class="fa-solid fa-arrow-up-right-from-square"></i> Demo</a>
              </div>
              <div class="p-info">
                <h4>E-Commerce Demo</h4>
                <p>JavaScript product filter and cart system.</p>
              </div>
            </article>
          </div>
        </section>

        <!-- SERVICES -->
        <section id="services" class="section" aria-label="Services section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Services</h2>
          <div class="services-grid">
            <div class="service-box" data-anim="slide-left" data-delay="160">
              <i class="fa-solid fa-desktop"></i>
              <h4>Web Design</h4>
              <p>Modern, responsive and aesthetic web design solutions.</p>
            </div>
            <div class="service-box" data-anim="slide-left" data-delay="220">
              <i class="fa-solid fa-code"></i>
              <h4>Web Development</h4>
              <p>Clean, efficient front-end and back-end code.</p>
            </div>
            <div class="service-box" data-anim="slide-right" data-delay="280">
              <i class="fa-solid fa-pen-nib"></i>
              <h4>UI/UX Design</h4>
              <p>User-focused design ensuring smooth experiences.</p>
            </div>

          </div>
        </section>

        <!-- CONTACT -->
        <section id="contact" class="section" aria-label="Contact section">
          <h2 class="section-title" data-anim="fade-up" data-delay="80">Contact Me</h2>
          <div class="contact-grid">
            <div data-anim="slide-left" data-delay="160">
              <p>Feel free to get in touch for collaborations or freelance work.</p>
              <p><i class="fa-regular fa-envelope"></i> thavamanikalidass@gmail.com</p>
              <p><i class="fa-solid fa-phone"></i> +91 9345994347</p>
              <p><i class="fa-solid fa-location-dot"></i> Chennai, Tamilnadu</p>
            </div>
            <form onsubmit="return sendMessage(event)" data-anim="slide-right" data-delay="220">
              <input class="form-field" name="name" placeholder="Your Name" required />
              <input class="form-field" name="email" type="email" placeholder="Your Email" required />
              <textarea class="form-field" name="message" rows="5" placeholder="Your Message" required></textarea>
              <button class="btn-send" type="submit"><i class="fa-solid fa-paper-plane"></i> Send</button>
            </form>
          </div>
        </section>
      </main>

      <div class="up" id="btnUp" title="Scroll to top" aria-hidden="true"><i class="fa-solid fa-angle-up"></i></div>

      <footer>
        <div class="wrap" style="text-align:center">
          <div class="social-row" style="margin-top:12px; margin-left: 450px; " >
            <a href="#"><i class="fa-brands fa-github"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
          </div>
          <small style="display:block;margin-top:10px;color:#bdbdbd">© Designed By Thavamani (Java Full-Stack)</small>
        </div>
      </footer>
    </div>
  </div>

  <!-- ========== Certificate Lightbox Modal (placed before closing body) ========== -->
  <div id="certModal" class="cert-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-label="Certificate preview" tabindex="-1">
    <div class="cert-backdrop" id="certBackdrop" tabindex="-1"></div>
    <div class="cert-inner" role="document">
      <button class="cert-close" id="certClose" aria-label="Close preview">&times;</button>
      <figure class="cert-figure">
        <img id="certImg" src="images/frontend.png" alt="">
        <figcaption id="certCaption"></figcaption>
      </figure>
      <div class="cert-actions">
        <a id="certDownload" class="btn-outline" href="#" download><i class="fa-solid fa-download"></i> Download</a>
      </div>
    </div>
  </div>

  <script>
    // --- CONFIG: adjust intro duration if needed (ms) ---
    const INTRO_DURATION = 800; // ms

    const splash = document.getElementById('splash');
    const site = document.getElementById('site');
    let splashTimeout;

    window.addEventListener('load', () => {
      splashTimeout = setTimeout(showSite, INTRO_DURATION);

      // small staggered transforms for bg-logos to reduce repetition
      document.querySelectorAll('.bg-logo').forEach((el, i) => {
        const delay = (i * 180) + 200;
        el.style.animationDelay = `${(i * 0.25).toFixed(2)}s`;
        el.style.transitionDelay = `${delay}ms`;
        // small random horizontal drift so positions feel organic
        const drift = (Math.random() * 14) - 7;
        el.style.transform = `translateX(${drift}px)`;
      });
    });

    function showSite(){
      if (!splash) return;
      splash.classList.add('hidden');
      site.classList.add('visible');
      site.setAttribute('aria-hidden', 'false');
      revealInitialInView();
      checkUp();

      // gently fade-in the bg logos once the site is visible
      document.querySelectorAll('.bg-logo').forEach((g, i) => {
        setTimeout(() => { g.style.opacity = getComputedStyle(document.documentElement).getPropertyValue('--bg-logo-opacity') || 0.06 }, i * 90);
      });

      // ensure nav initial state is correct
      updateNavOverlay();
    }

    function skipIntro(){
      clearTimeout(splashTimeout);
      showSite();
    }
    window.skipIntro = skipIntro;

    window.addEventListener('keydown', (e) => {
      if (['Enter',' ','Escape'].includes(e.key)) skipIntro();
    });

    // --- SEND MESSAGE (demo) ---
    function sendMessage(e){
      e.preventDefault();
      const form = e.target;
      const name = form.name.value.trim();
      if(!name){ alert('Please fill all fields.'); return false; }
      alert(`Thanks ${name}! (Demo message)`); 
      form.reset();
      return false;
    }
    window.sendMessage = sendMessage;

    /* =============================================================
       Scroll-direction-aware animation system
    ============================================================= */

    (function(){
      let lastScrollY = window.scrollY || 0;
      let lastDirection = 'down';
      const elements = Array.from(document.querySelectorAll('[data-anim]'));

      window.addEventListener('scroll', () => {
        const y = window.scrollY || 0;
        if (y > lastScrollY + 2) lastDirection = 'down';
        else if (y < lastScrollY - 2) lastDirection = 'up';
        lastScrollY = y;
      }, { passive: true });

      const thresholds = [];
      for (let i=0;i<=20;i++) thresholds.push(i/20);

      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const el = entry.target;
          const ratio = entry.intersectionRatio;

          const attrDelay = parseInt(el.getAttribute('data-delay') || 0, 10);
          if (attrDelay) el.style.transitionDelay = `${attrDelay}ms`;

          const inView = ratio > 0.16;

          if (inView) {
            el.classList.remove('exit-to-top','exit-to-bottom');
            if (lastDirection === 'down') {
              el.classList.remove('enter-from-top');
              el.classList.add('enter-from-bottom', 'in');
            } else {
              el.classList.remove('enter-from-bottom');
              el.classList.add('enter-from-top', 'in');
            }
          } else {
            const rect = el.getBoundingClientRect();
            const vh = window.innerHeight || document.documentElement.clientHeight;

            if (rect.bottom < 0) {
              el.classList.remove('enter-from-bottom','enter-from-top','in');
              el.classList.add('exit-to-top');
            }
            else if (rect.top > vh) {
              el.classList.remove('enter-from-bottom','enter-from-top','in');
              el.classList.add('exit-to-bottom');
            } else {
              el.classList.remove('enter-from-bottom','enter-from-top','in');
              if (lastDirection === 'down') el.classList.add('exit-to-top');
              else el.classList.add('exit-to-bottom');
            }
          }
        });
      }, { threshold: thresholds });

      elements.forEach((el, idx) => {
        if (!el.hasAttribute('data-delay')) {
          const fallback = Math.min(400, idx * 30);
          el.style.transitionDelay = `${fallback}ms`;
        }
        io.observe(el);
      });

      function revealInitialInView(){
        elements.forEach(el => {
          const rect = el.getBoundingClientRect();
          const vh = window.innerHeight || document.documentElement.clientHeight;
          const isVisible = rect.top < vh * 0.85 && rect.bottom > vh * 0.08;
          if (isVisible) {
            if (lastDirection === 'down') el.classList.add('enter-from-bottom','in');
            else el.classList.add('enter-from-top','in');
          }
        });
      }

      window.revealInitialInView = revealInitialInView;
    })();

    // nav highlight & smooth scroll (updated to include certificates)
    (function(){
      const sectionIds = ['home','about','education','internship','skills','projects','certificates','services','contact'];
      const navLinks = Array.from(document.querySelectorAll('.nav-link'));
      const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
            // update URL hash without adding history entries
            history.replaceState(null, '', `#${id}`);
          }
        });
      }, { threshold: 0.45 });

      sectionIds.forEach(id => {
        const el = document.getElementById(id);
        if (el) sectionObserver.observe(el);
      });

      // improved click handler: account for fixed nav height so section appears below nav
      navLinks.forEach(a => {
        a.addEventListener('click', (ev) => {
          ev.preventDefault();
          const targetId = a.getAttribute('data-target');
          const t = document.getElementById(targetId);
          if (t) {
            const nav = document.getElementById('primaryNav');
            const navHeight = nav ? nav.offsetHeight : parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height')) || 76;
            const extraSpacing = 8; // small breathing room
            const top = t.getBoundingClientRect().top + window.scrollY - navHeight - extraSpacing;
            window.scrollTo({ top, behavior: 'smooth' });
          }
          navLinks.forEach(x => x.classList.remove('active'));
          a.classList.add('active');
        });
      });
    })();

    // Up button logic
    (function(){
      const btnUp = document.getElementById('btnUp');
      function checkUp(){ btnUp.style.display = window.scrollY > 200 ? 'grid' : 'none'; }
      window.addEventListener('scroll', checkUp);
      checkUp();
      btnUp.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));
    })();

    // avatar parallax + hover tilt
    (function(){
      const avatar = document.getElementById('heroAvatar');
      const img = document.getElementById('avatarImg');
      if (!avatar || !img) return;
      let ticking = false;

      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            const rect = avatar.getBoundingClientRect();
            const mid = (rect.top + rect.bottom) / 2;
            const offset = (window.innerHeight/2 - mid) / 16;
            avatar.style.transform = `translateY(${offset}px)`;
            const clamp = Math.max(0.96, Math.min(1.02, 1 - Math.abs(offset)/120));
            img.style.transform = `scale(${clamp})`;
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });

      avatar.addEventListener('mousemove', (e) => {
        const r = avatar.getBoundingClientRect();
        const px = (e.clientX - r.left) / r.width;
        const py = (e.clientY - r.top) / r.height;
        const rx = (py - 0.5) * 6;
        const ry = (px - 0.5) * -6;
        avatar.style.transform += ` rotateX(${rx}deg) rotateY(${ry}deg)`;
        avatar.style.transition = 'transform 0.12s linear';
      });
      avatar.addEventListener('mouseleave', () => {
        avatar.style.transform = '';
        avatar.style.transition = 'transform .6s var(--ease)';
      });
    })();

    // typing subtitle (accessibility-friendly)
    (function(){
      const subtitleEl = document.getElementById('subtitle');
      if(!subtitleEl) return;

      const words = ["JAVA FULLSTACK DEVELOPER"];
      const TYPING_SPEED = 60;
      const DELETING_SPEED = 40;
      const PAUSE_AFTER_TYPE = 1000;
      const PAUSE_AFTER_DELETE = 250;

      subtitleEl.textContent = words[0];
      setTimeout(() => runLoop(0), 800);

      function sleep(ms){ return new Promise(res => setTimeout(res, ms)); }

      async function typeText(text){
        subtitleEl.textContent = "";
        for(let i=0;i<text.length;i++){
          subtitleEl.textContent += text.charAt(i);
          await sleep(TYPING_SPEED);
        }
      }

      async function deleteText(){
        const cur = subtitleEl.textContent;
        for(let i=cur.length;i>0;i--){
          subtitleEl.textContent = cur.substring(0, i-1);
          await sleep(DELETING_SPEED);
        }
      }

      async function runLoop(startIdx){
        let i = (startIdx + 1) % words.length;
        while(true){
          const word = words[i];
          await typeText(word);
          await sleep(PAUSE_AFTER_TYPE);
          await deleteText();
          await sleep(PAUSE_AFTER_DELETE);
          i = (i + 1) % words.length;
        }
      }
    })();

    // revealElements already in view after splash
    function revealInitialInView() {
      if (window.revealInitialInView) window.revealInitialInView();
    }

    // small function to adjust nav visual overlay based on scroll (keeps pill readable)
    function updateNavOverlay(){
      const nav = document.getElementById('primaryNav');
      if (!nav) return;
      if (window.scrollY > 12) nav.classList.add('nav-overlay');
      else nav.classList.add('nav-overlay'); // keep overlay by default (your original approach)
    }

    // ensure reveal when resizing
    window.addEventListener('resize', () => revealInitialInView());

    /* ================= Certificate lightbox functions ================= */
    (function(){
      const modal = document.getElementById('certModal');
      const backdrop = document.getElementById('certBackdrop');
      const closeBtn = document.getElementById('certClose');
      const imgEl = document.getElementById('certImg');
      const captionEl = document.getElementById('certCaption');
      const downloadEl = document.getElementById('certDownload');

      function openCertificate({ src, title, download }) {
        if(!modal) return;
        imgEl.src = src || '';
        imgEl.alt = title || 'Certificate';
        captionEl.textContent = title || '';
        downloadEl.href = download || src || '#';
        downloadEl.setAttribute('download', download ? download.split('/').pop() : '');
        modal.setAttribute('aria-hidden', 'false');
        modal.style.display = 'flex';
        // focus to modal for accessibility
        modal.focus();
        // prevent background scroll
        document.body.style.overflow = 'hidden';
      }

      function closeCertificate() {
        if(!modal) return;
        modal.setAttribute('aria-hidden', 'true');
        modal.style.display = 'none';
        imgEl.src = '';
        document.body.style.overflow = '';
      }

      // open from an element with data attributes
      window.openCertificateFromElem = function(el) {
        const src = el.getAttribute('data-cert-src') || el.getAttribute('src') || el.dataset.src;
        const title = el.getAttribute('data-cert-title') || el.alt || 'Certificate';
        const download = el.getAttribute('data-cert-download') || src;
        openCertificate({ src, title, download });
      };

      // events
      if (backdrop) backdrop.addEventListener('click', closeCertificate);
      if (closeBtn) closeBtn.addEventListener('click', closeCertificate);

      // keyboard: Esc to close
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if(modal && modal.getAttribute('aria-hidden') === 'false') closeCertificate();
        }
      });

      // make thumbnails with .cert-thumb clickable if present
      document.addEventListener('click', (e) => {
        const t = e.target.closest('.cert-thumb');
        if (t) {
          // If image uses attributes, call openCertificateFromElem
          openCertificateFromElem(t);
        }
      });
    })();

    /* ================== Projects hover tilt interaction ================== */
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return; // skip interactive tilt for accessibility

      const cards = document.querySelectorAll('.project-box[data-tilt]');

      cards.forEach(card => {
        let rect = null;
        const strength = 12; // degrees

        function updateRect(){ rect = card.getBoundingClientRect(); }
        updateRect();
        window.addEventListener('resize', updateRect, { passive:true });

        card.addEventListener('mousemove', (e) => {
          if (!rect) updateRect();
          const x = (e.clientX - rect.left) / rect.width; // 0..1
          const y = (e.clientY - rect.top) / rect.height; // 0..1
          const rx = -(y - 0.5) * strength; // rotateX
          const ry = (x - 0.5) * strength;  // rotateY
          // apply perspective and tilt + subtle lift
          card.style.transform = `perspective(900px) translateY(-6px) scale(1.02) rotateX(${rx}deg) rotateY(${ry}deg)`;
          // subtle parallax on image
          const img = card.querySelector('.media img');
          if(img) img.style.transform = `scale(1.14) translateX(${(x-0.5)*12}px) translateY(${(y-0.5)*8}px)`;
        });

        card.addEventListener('mouseleave', () => {
          card.style.transform = '';
          const img = card.querySelector('.media img'); if(img) img.style.transform = '';
        });

        // keyboard focus makes card lift (no tilt)
        card.addEventListener('focus', () => { card.style.transform = 'translateY(-10px) scale(1.02)'; });
        card.addEventListener('blur', () => { card.style.transform = ''; });
      });
    })();
  </script>
</body>
</html>
